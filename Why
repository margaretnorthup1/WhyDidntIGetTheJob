<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Why Didn't I Get the Job?</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=DM+Mono:wght@400;500&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
–black: #0a0a0a;
–offwhite: #f4f1eb;
–cream: #faf8f4;
–red: #c0392b;
–red-light: #e74c3c;
–gold: #d4a843;
–green: #27ae60;
–gray: #6b6b6b;
–border: #2a2a2a;
}

body {
background: var(–black);
color: var(–offwhite);
font-family: ‘DM Sans’, sans-serif;
min-height: 100vh;
overflow-x: hidden;
}

/* GRID BACKGROUND */
body::before {
content: ‘’;
position: fixed;
inset: 0;
background-image:
linear-gradient(rgba(244,241,235,0.03) 1px, transparent 1px),
linear-gradient(90deg, rgba(244,241,235,0.03) 1px, transparent 1px);
background-size: 60px 60px;
pointer-events: none;
z-index: 0;
}

.container {
max-width: 820px;
margin: 0 auto;
padding: 60px 24px 120px;
position: relative;
z-index: 1;
}

/* HEADER */
.header {
margin-bottom: 64px;
animation: fadeUp 0.8s ease both;
}

.eyebrow {
font-family: ‘DM Mono’, monospace;
font-size: 11px;
letter-spacing: 0.25em;
text-transform: uppercase;
color: var(–gold);
margin-bottom: 16px;
}

h1 {
font-family: ‘Playfair Display’, serif;
font-size: clamp(38px, 7vw, 72px);
font-weight: 900;
line-height: 1.0;
color: var(–offwhite);
margin-bottom: 20px;
}

h1 span {
color: var(–red-light);
display: block;
}

.subtitle {
font-size: 16px;
color: var(–gray);
font-weight: 300;
line-height: 1.6;
max-width: 480px;
}

/* FORM */
.form-card {
background: #111;
border: 1px solid #222;
border-radius: 2px;
padding: 40px;
margin-bottom: 32px;
animation: fadeUp 0.8s ease 0.1s both;
}

.form-section {
margin-bottom: 32px;
}

label {
display: block;
font-family: ‘DM Mono’, monospace;
font-size: 11px;
letter-spacing: 0.2em;
text-transform: uppercase;
color: var(–gold);
margin-bottom: 10px;
}

textarea {
width: 100%;
background: #0a0a0a;
border: 1px solid #2a2a2a;
border-radius: 2px;
color: var(–offwhite);
font-family: ‘DM Sans’, sans-serif;
font-size: 14px;
line-height: 1.7;
padding: 16px;
resize: vertical;
transition: border-color 0.2s;
outline: none;
}

textarea::placeholder { color: #444; }
textarea:focus { border-color: var(–gold); }

.divider {
height: 1px;
background: #1e1e1e;
margin: 32px 0;
}

/* BUTTON */
.btn {
width: 100%;
padding: 20px;
background: var(–offwhite);
color: var(–black);
border: none;
border-radius: 2px;
font-family: ‘DM Mono’, monospace;
font-size: 13px;
letter-spacing: 0.15em;
text-transform: uppercase;
cursor: pointer;
transition: all 0.2s;
font-weight: 500;
}

.btn:hover { background: var(–gold); }
.btn:disabled { opacity: 0.4; cursor: not-allowed; }
.btn:disabled:hover { background: var(–offwhite); }

/* LOADING */
.loading {
display: none;
text-align: center;
padding: 48px;
animation: fadeUp 0.4s ease both;
}

.loading.show { display: block; }

.loading-text {
font-family: ‘DM Mono’, monospace;
font-size: 12px;
letter-spacing: 0.2em;
color: var(–gray);
animation: pulse 1.5s ease infinite;
}

@keyframes pulse { 0%,100%{opacity:0.4} 50%{opacity:1} }

/* RESULTS */
.results {
display: none;
animation: fadeUp 0.6s ease both;
}

.results.show { display: block; }

.results-header {
margin-bottom: 32px;
}

.verdict-banner {
background: #111;
border: 1px solid #222;
border-left: 4px solid var(–red-light);
padding: 24px 32px;
margin-bottom: 32px;
border-radius: 2px;
}

.verdict-label {
font-family: ‘DM Mono’, monospace;
font-size: 10px;
letter-spacing: 0.25em;
text-transform: uppercase;
color: var(–red-light);
margin-bottom: 8px;
}

.verdict-text {
font-family: ‘Playfair Display’, serif;
font-size: 20px;
font-weight: 700;
line-height: 1.4;
color: var(–offwhite);
}

/* SCORECARD */
.scorecard {
background: #111;
border: 1px solid #222;
border-radius: 2px;
overflow: hidden;
margin-bottom: 24px;
}

.scorecard-title {
padding: 20px 28px;
border-bottom: 1px solid #1e1e1e;
font-family: ‘DM Mono’, monospace;
font-size: 11px;
letter-spacing: 0.2em;
text-transform: uppercase;
color: var(–gold);
}

.score-row {
padding: 20px 28px;
border-bottom: 1px solid #1a1a1a;
display: grid;
grid-template-columns: 1fr auto;
gap: 16px;
align-items: start;
}

.score-row:last-child { border-bottom: none; }

.score-dimension {
font-size: 15px;
font-weight: 500;
color: var(–offwhite);
margin-bottom: 4px;
}

.score-note {
font-size: 13px;
color: var(–gray);
line-height: 1.5;
}

.score-badge {
font-family: ‘DM Mono’, monospace;
font-size: 22px;
font-weight: 500;
min-width: 60px;
text-align: right;
padding-top: 2px;
}

.score-bar-wrap {
height: 3px;
background: #1e1e1e;
border-radius: 2px;
margin-top: 10px;
overflow: hidden;
}

.score-bar {
height: 100%;
border-radius: 2px;
transition: width 1s ease;
}

/* FIXES SECTION */
.fixes-section {
background: #111;
border: 1px solid #222;
border-radius: 2px;
overflow: hidden;
margin-bottom: 24px;
}

.fixes-title {
padding: 20px 28px;
border-bottom: 1px solid #1e1e1e;
font-family: ‘DM Mono’, monospace;
font-size: 11px;
letter-spacing: 0.2em;
text-transform: uppercase;
color: var(–gold);
}

.fix-item {
padding: 20px 28px;
border-bottom: 1px solid #1a1a1a;
display: grid;
grid-template-columns: 28px 1fr;
gap: 16px;
align-items: start;
}

.fix-item:last-child { border-bottom: none; }

.fix-num {
font-family: ‘DM Mono’, monospace;
font-size: 12px;
color: var(–red-light);
font-weight: 500;
padding-top: 2px;
}

.fix-content {}

.fix-title {
font-size: 14px;
font-weight: 500;
color: var(–offwhite);
margin-bottom: 6px;
}

.fix-body {
font-size: 13px;
color: var(–gray);
line-height: 1.6;
}

.fix-resource {
display: inline-block;
margin-top: 8px;
font-family: ‘DM Mono’, monospace;
font-size: 11px;
color: var(–gold);
border: 1px solid #2a2200;
background: #1a1500;
padding: 4px 10px;
border-radius: 2px;
letter-spacing: 0.05em;
}

/* RESET */
.reset-btn {
width: 100%;
padding: 16px;
background: transparent;
color: var(–gray);
border: 1px solid #222;
border-radius: 2px;
font-family: ‘DM Mono’, monospace;
font-size: 11px;
letter-spacing: 0.15em;
text-transform: uppercase;
cursor: pointer;
transition: all 0.2s;
margin-top: 16px;
}
.reset-btn:hover { color: var(–offwhite); border-color: #444; }

/* ERROR */
.error-box {
display: none;
background: #1a0a0a;
border: 1px solid var(–red);
border-radius: 2px;
padding: 16px 20px;
color: var(–red-light);
font-size: 13px;
margin-top: 16px;
font-family: ‘DM Mono’, monospace;
}
.error-box.show { display: block; }

/* ANIMATIONS */
@keyframes fadeUp {
from { opacity: 0; transform: translateY(20px); }
to   { opacity: 1; transform: translateY(0); }
}

/* SCORE COLORS */
.score-high   { color: var(–green); }
.score-medium { color: var(–gold); }
.score-low    { color: var(–red-light); }
.bar-high     { background: var(–green); }
.bar-medium   { background: var(–gold); }
.bar-low      { background: var(–red-light); }
</style>

</head>
<body>
<div class="container">

  <div class="header">
    <div class="eyebrow">Honest Interview Debrief</div>
    <h1>Why Didn't<span>I Get the Job?</span></h1>
    <p class="subtitle">Paste your resume, the job description, and how you answered the key questions. We'll tell you exactly where you lost it — and what to do next.</p>
  </div>

  <!-- FORM -->

  <div class="form-card" id="formCard">
    <div class="form-section">
      <label>Your Resume</label>
      <textarea id="resume" rows="7" placeholder="Paste your full resume text here..."></textarea>
    </div>

```
<div class="divider"></div>

<div class="form-section">
  <label>Job Description</label>
  <textarea id="jobDesc" rows="6" placeholder="Paste the full job posting here..."></textarea>
</div>

<div class="divider"></div>

<div class="form-section">
  <label>How You Answered the Interviews</label>
  <textarea id="interview" rows="7" placeholder="Describe what happened in your interviews — what questions were asked, how you answered them, what you felt went well or poorly. Be specific."></textarea>
</div>

<button class="btn" id="analyzeBtn" onclick="analyze()">Analyze My Interview →</button>
<div class="error-box" id="errorBox"></div>
```

  </div>

  <!-- LOADING -->

  <div class="loading" id="loading">
    <div class="loading-text">Reviewing your application...</div>
  </div>

  <!-- RESULTS -->

  <div class="results" id="results">
    <div class="verdict-banner" id="verdictBanner">
      <div class="verdict-label">Hiring Manager's Verdict</div>
      <div class="verdict-text" id="verdictText"></div>
    </div>

```
<div class="scorecard" id="scorecardEl">
  <div class="scorecard-title">Performance Scorecard</div>
  <div id="scoreRows"></div>
</div>

<div class="fixes-section" id="fixesEl">
  <div class="fixes-title">What to Fix Before Your Next Interview</div>
  <div id="fixRows"></div>
</div>

<button class="reset-btn" onclick="reset()">← Analyze Another Application</button>
```

  </div>

</div>

<script>
async function analyze() {
  const resume = document.getElementById('resume').value.trim();
  const jobDesc = document.getElementById('jobDesc').value.trim();
  const interview = document.getElementById('interview').value.trim();
  const errorBox = document.getElementById('errorBox');

  errorBox.classList.remove('show');

  if (!resume || !jobDesc || !interview) {
    errorBox.textContent = 'Please fill in all three fields before analyzing.';
    errorBox.classList.add('show');
    return;
  }

  document.getElementById('formCard').style.display = 'none';
  document.getElementById('loading').classList.add('show');

  const prompt = `You are a brutally honest hiring manager with 15+ years of recruiting experience. A candidate did not get a job offer and wants to understand exactly why, and what to fix.

Analyze the following and respond ONLY with valid JSON — no markdown, no explanation, just the JSON object.

Resume:
${resume}

Job Description:
${jobDesc}

Interview Performance (candidate's self-report):
${interview}

Return this exact JSON structure:
{
  "verdict": "One sharp, honest 2-sentence summary of why they didn't get the job. Be direct. No softening.",
  "scores": [
    {
      "dimension": "Resume-to-Role Fit",
      "score": 72,
      "note": "Brief honest assessment (1-2 sentences)"
    },
    {
      "dimension": "Interview Presence & Communication",
      "score": 55,
      "note": "Brief honest assessment (1-2 sentences)"
    },
    {
      "dimension": "Relevant Experience & Skills",
      "score": 60,
      "note": "Brief honest assessment (1-2 sentences)"
    },
    {
      "dimension": "Preparation & Research",
      "score": 50,
      "note": "Brief honest assessment (1-2 sentences)"
    },
    {
      "dimension": "Story & Positioning",
      "score": 45,
      "note": "Brief honest assessment (1-2 sentences)"
    }
  ],
  "fixes": [
    {
      "title": "Specific fix title",
      "body": "Specific, actionable advice in 2-3 sentences. Tell them exactly what to do differently.",
      "resource": "A specific resource, framework, book, or practice technique they can use (e.g., 'Read: The STAR Method Guide', 'Practice: 30-min mock interview on Pramp.com', 'Template: LinkedIn Summary rewrite')"
    },
    {
      "title": "Specific fix title",
      "body": "Specific, actionable advice.",
      "resource": "Specific resource"
    },
    {
      "title": "Specific fix title",
      "body": "Specific, actionable advice.",
      "resource": "Specific resource"
    },
    {
      "title": "Specific fix title",
      "body": "Specific, actionable advice.",
      "resource": "Specific resource"
    }
  ]
}

Make scores realistic and varied based on the actual inputs. Be specific in all feedback — reference actual details from their resume, job description, or interview answers.`;

  try {
    const response = await fetch("https://api.anthropic.com/v1/messages", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        model: "claude-sonnet-4-20250514",
        max_tokens: 1000,
        messages: [{ role: "user", content: prompt }]
      })
    });

    const data = await response.json();

    if (!response.ok) throw new Error(data.error?.message || 'API error');

    const text = data.content.map(b => b.text || '').join('');
    const clean = text.replace(/```json|```/g, '').trim();
    const parsed = JSON.parse(clean);

    renderResults(parsed);

  } catch (err) {
    document.getElementById('formCard').style.display = 'block';
    document.getElementById('loading').classList.remove('show');
    errorBox.textContent = 'Something went wrong: ' + err.message;
    errorBox.classList.add('show');
  }
}

function scoreColor(score) {
  if (score >= 75) return { text: 'score-high', bar: 'bar-high' };
  if (score >= 50) return { text: 'score-medium', bar: 'bar-medium' };
  return { text: 'score-low', bar: 'bar-low' };
}

function renderResults(data) {
  document.getElementById('loading').classList.remove('show');

  document.getElementById('verdictText').textContent = data.verdict;

  // Scores
  const scoreRows = document.getElementById('scoreRows');
  scoreRows.innerHTML = '';
  data.scores.forEach(s => {
    const c = scoreColor(s.score);
    const row = document.createElement('div');
    row.className = 'score-row';
    row.innerHTML = `
      <div>
        <div class="score-dimension">${s.dimension}</div>
        <div class="score-note">${s.note}</div>
        <div class="score-bar-wrap">
          <div class="score-bar ${c.bar}" style="width: ${s.score}%"></div>
        </div>
      </div>
      <div class="score-badge ${c.text}">${s.score}</div>
    `;
    scoreRows.appendChild(row);
  });

  // Fixes
  const fixRows = document.getElementById('fixRows');
  fixRows.innerHTML = '';
  data.fixes.forEach((f, i) => {
    const item = document.createElement('div');
    item.className = 'fix-item';
    item.innerHTML = `
      <div class="fix-num">0${i+1}</div>
      <div class="fix-content">
        <div class="fix-title">${f.title}</div>
        <div class="fix-body">${f.body}</div>
        <span class="fix-resource">↗ ${f.resource}</span>
      </div>
    `;
    fixRows.appendChild(item);
  });

  document.getElementById('results').classList.add('show');
}

function reset() {
  document.getElementById('results').classList.remove('show');
  document.getElementById('formCard').style.display = 'block';
  document.getElementById('resume').value = '';
  document.getElementById('jobDesc').value = '';
  document.getElementById('interview').value = '';
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
</script>

</body>
</html>
